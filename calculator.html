<!DOCTYPE html>
<html>
<head>
  <title>Amazon Profit Calculator</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      max-width: 450px;
      margin: 40px auto;
      padding: 20px;
      border: 2px solid #ccc;
      border-radius: 12px;
    }
    h2 {
      text-align: center;
    }
    label, input {
      display: block;
      margin-bottom: 12px;
      width: 100%;
    }
    button {
      padding: 10px;
      margin-top: 10px;
      font-weight: bold;
      width: 100%;
      cursor: pointer;
    }
    #result {
      margin-top: 25px;
      font-size: 1.2em;
      font-weight: bold;
      text-align: center;
    }
    hr {
      margin: 25px 0;
    }
  </style>
</head>
<body>
  <h2>Amazon Profit Calculator (₹100 Profit)</h2>

  <!-- CP to SP -->
  <label for="cp">Enter Cost Price (CP):</label>
  <input type="number" id="cp" placeholder="e.g. 315" />
  <button onclick="calculateSP()">Calculate SP (Selling Price)</button>

  <hr>

  <!-- SP to CP+Shipping -->
  <label for="sp">Enter Selling Price (SP):</label>
  <input type="number" id="sp" placeholder="e.g. 703" />
  <button onclick="calculateCPShipping()">Calculate CP + Shipping</button>

  <div id="result"></div>

  <script>
    function calculateSP() {
      const cp = parseFloat(document.getElementById('cp').value);
      if (isNaN(cp)) {
        document.getElementById('result').innerText = "Please enter a valid Cost Price.";
        return;
      }

      const shipping = 55;
      const cp_shipping = cp + shipping;

      // Try SP < 500 formula
      const estimatedSP = (141.3 + cp_shipping) / 0.941;

      let sp;
      if (estimatedSP <= 500) {
        sp = estimatedSP;
      } else {
        sp = (159 + cp_shipping) / 0.7522;
      }

      document.getElementById('result').innerText =
        "Recommended Selling Price: ₹" + sp.toFixed(2);
    }

    function calculateCPShipping() {
      const sp = parseFloat(document.getElementById('sp').value);
      if (isNaN(sp)) {
        document.getElementById('result').innerText = "Please enter a valid Selling Price.";
        return;
      }

      let fee, tax, totalDeduction;

      if (sp < 500) {
        fee = 35 + 0.05 * sp;
      } else {
        fee = 50 + 0.21 * sp;
      }

      tax = 0.18 * fee;
      totalDeduction = fee + tax;

      const cp_shipping = sp - totalDeduction - 100;

      document.getElementById('result').innerText =
        "Maximum CP + Shipping: ₹" + cp_shipping.toFixed(2);
    }
  </script>
</body>
</html>
